
<!DOCTYPE html>
<html>
<body>
<h1>List of vendors</h1>
<div id="vendor-list"></div>



<script>
 getData()

  async function getData() {
    let url = "https://script.google.com/macros/s/AKfycbw0L20l6zDIAAluiYRN7TBaDrmS9atamkGcWRaVBpfS4eIDfBrUPeViY4pKUyzJArik/exec?action=getJson"
    const response = await fetch(url)
    const data = await response.json();
    for(const [key, value] of Object.entries(data)){
      let div = document.createElement("div");
      let list = document.createElement("ul");
      div.append(`${key}`, list);
      document.getElementById("vendor-list").append(div)
        value.forEach(element => {
          new_object = element
          for(const [key_1, value_1] of Object.entries(element)){
            p = document.createElement("p");
            p.style = "color:red";
            if(key_1 != "date"){
              d = new Date(element["date"])

              if(element["date"] == ""){
                d = new Date("2024-09-25")
              }
              p.append(`${key_1} - ${value_1} -  ${d.getFullYear()}/${d.getMonth() + 1}/${d.getDate()}`)
              list.append(p)
            }
            
            
            console.log(`${key_1}, ${value_1}, ${key}, ${element["date"]}`)
            
          }
        });
        
      }
        
    }
    

</script>

</body>
</html>
